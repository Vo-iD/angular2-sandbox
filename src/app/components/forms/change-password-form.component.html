<form [ngFormModel]="form" (ngSubmit)="changePassword()">
	<div class="form-group">
		<label for="currentPassword">Current password</label>
		<input
            id="currentPassword" 
            type="password" 
            class="form-control"
            ngControl="currentPassword"
            #currentPassword="ngForm"/>

        <div *ngIf="currentPassword.touched && currentPassword.errors">
            <div
                *ngIf="currentPassword.errors.invalidCurrentPassword" 
                class="alert alert-danger">
                Old password is incorrect.
            </div>

            <div
                *ngIf="currentPassword.errors.required" 
                class="alert alert-danger">
                Current password is required.
            </div>
        </div>
	</div>

	<div class="form-group">
		<label for="newPassword">New password</label>
		<input
            id="newPassword" 
            type="password" 
            class="form-control"
            ngControl="newPassword"
            #newPassword="ngForm"/>

        <div *ngIf="newPassword.touched && newPassword.errors">
            <div
                *ngIf="newPassword.errors.minlength" 
                class="alert alert-danger">
                Password should be at least {{newPassword.errors.minlength.requiredLength}} characters.
            </div>

            <div
                *ngIf="newPassword.errors.required" 
                class="alert alert-danger">
                New password is required.
            </div>
        </div>
	</div>

    <div class="form-group">
		<label for="confirmPassword">Confirm password</label>
		<input
            id="confirmPassword" 
            type="password" 
            class="form-control"
            ngControl="confirmPassword"
            #confirmPassword="ngForm"/>
        <div *ngIf="confirmPassword.touched && confirmPassword.errors">
            <div
                *ngIf="confirmPassword.errors.notEquivalent" 
                class="alert alert-danger">
                Passwords don't match.
            </div>

            <div
                *ngIf="confirmPassword.errors.required" 
                class="alert alert-danger">
                Password confirmation is required.
            </div>
        </div>
	</div>

    <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Change password</button>
</form>